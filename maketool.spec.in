Summary: GTK+ front end for gmake
Name: @PACKAGE@
Version: @VERSION@
Release: 1
Copyright: GPL
Group: Development/Building
Source: http://www.alphalink.com.au/~gnb/@PACKAGE@/@PACKAGE@-@VERSION@-src.tar.gz
BuildRoot: /var/tmp/@PACKAGE@-root
Vendor: Greg Banks

%description
Maketool is a simple GUI front end for the GNU make program,
written using the GTK toolkit. It presents a menu of targets
and detects compiler error messages in the output of make.
Double-clicking on an error message starts an editor.

%prep
%setup -q

autoconf

%build
[ "@ENABLE_ONLINE_HELP@" = yes ] && EOH="--enable-online-help"
OS=`echo ${RPM_OS} | tr '[A-Z]' '[a-z]'`
CFLAGS="$RPM_OPT_FLAGS" ./configure --prefix=/usr $EOH ${RPM_ARCH}-redhat-${OS}
make

%install
rm -rf $RPM_BUILD_ROOT
make install prefix=$RPM_BUILD_ROOT/usr

%clean
rm -rf $RPM_BUILD_ROOT

%files
%defattr(-,root,root)
/usr/bin/maketool
/usr/libexec/maketool/extract_targets
/usr/libexec/maketool/make_makefile
%doc COPYING COPYRIGHT TODO CHANGES
%docdir /usr/share/@PACKAGE@/help
/usr/share/@PACKAGE@/help
/usr/share/locale/ja/LC_MESSAGES/maketool.mo
/usr/share/locale/cs/LC_MESSAGES/maketool.mo

%changelog
* Mon Dec 11 2000 Greg Banks <gnb@alphalink.com.au>
- Czech translation
* Fri Dec 1 2000 Greg Banks <gnb@alphalink.com.au>
- Japanese translation
* Sun Nov 26 2000 Greg Banks <gnb@alphalink.com.au>
- Rationalised documentation with %doc & %docdir.
* Sun Aug 6 2000 Greg Banks <gnb@alphalink.com.au>
- Added online help.
* Sun Nov 7 1999 Greg Banks <gnb@alphalink.com.au>
- Next development version; see CHANGES file.
* Wed Jul 14 1999 Greg Banks <gnb@alphalink.com.au>
- Next development version; see CHANGES file.
* Tue Jun 1 1999 Greg Banks <gnb@alphalink.com.au>
- Building RPM for first release
